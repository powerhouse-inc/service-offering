scalar Unknown
scalar DateTime
scalar Attachment
scalar Address
scalar Amount_Tokens
scalar EthereumAddress
scalar EmailAddress
scalar Amount_Percentage
scalar Date
scalar URL
scalar Amount_Money
scalar OLabel
scalar Currency
scalar PHID
scalar OID
scalar Amount_Fiat
scalar Amount_Currency
scalar Amount_Crypto
scalar Amount
scalar Upload

enum WorkBreakdownPhase { CAPTURE SCENARIO PREREQUISITES TASKS REVIEW COMPLETE }
enum WorkBreakdownStatus { NOT_STARTED IN_PROGRESS ON_HOLD COMPLETED }
enum TemplateMode { NONE PRE_SELECTED AUTO_DETECTED }
enum TaskStatus { PENDING IN_PROGRESS BLOCKED DONE }
enum TaskSource { EXTRACTED MANUAL }
enum PrerequisiteScope { GLOBAL STEP }
enum PrerequisiteStatus { NOT_MET IN_PROGRESS MET }
enum DependencySourceType { TASK PREREQUISITE }
enum DependencyTargetType { TASK PREREQUISITE }

type TemplateSubstep {
  id: OID!
  order: Int!
  name: String!
  description: String
}

type TemplateStep {
  id: OID!
  order: Int!
  name: String!
  description: String
  substeps: [TemplateSubstep!]!
}

type DemoTemplate {
  id: OID!
  name: String!
  description: String
  domain: String
  steps: [TemplateStep!]!
  createdAt: DateTime
}

type StakeholderInput {
  id: OID!
  rawContent: String!
  source: String
  submittedBy: String
  createdAt: DateTime!
}

type DemoSubstep {
  id: OID!
  stepId: OID!
  order: Int!
  name: String!
  description: String
  acceptanceCriteria: String
}

type DemoStep {
  id: OID!
  order: Int!
  name: String!
  description: String
  substeps: [DemoSubstep!]!
  templateStepId: OID
}

type Prerequisite {
  id: OID!
  description: String!
  owner: String!
  scope: PrerequisiteScope!
  stepId: OID
  status: PrerequisiteStatus
  notes: String
  createdAt: DateTime
}

type Task {
  id: OID!
  name: String!
  description: String
  owner: String!
  status: TaskStatus
  source: TaskSource!
  extractionContext: String
  stepId: OID!
  substepId: OID
  sequenceOrder: Int!
  notes: String
  createdAt: DateTime
}

type Dependency {
  id: OID!
  sourceId: OID!
  sourceType: DependencySourceType!
  targetId: OID!
  targetType: DependencyTargetType!
  description: String
}

type AnalystNote {
  id: OID!
  phase: WorkBreakdownPhase!
  content: String!
  createdAt: DateTime!
}

type WorkBreakdownState {
  title: String
  description: String
  phase: WorkBreakdownPhase
  status: WorkBreakdownStatus
  templateMode: TemplateMode
  appliedTemplateId: OID
  templates: [DemoTemplate!]!
  inputs: [StakeholderInput!]!
  steps: [DemoStep!]!
  prerequisites: [Prerequisite!]!
  tasks: [Task!]!
  dependencies: [Dependency!]!
  notes: [AnalystNote!]!
}

# project

input SetProjectInfoInput {
  title: String
  description: String
}

input SetPhaseInput {
  phase: WorkBreakdownPhase!
  timestamp: DateTime!
}

input SetStatusInput {
  status: WorkBreakdownStatus!
}

# templates

input TemplateSubstepInput {
  id: OID!
  order: Int!
  name: String!
  description: String
}

input TemplateStepInput {
  id: OID!
  order: Int!
  name: String!
  description: String
  substeps: [TemplateSubstepInput!]
}

input AddTemplateInput {
  id: OID!
  name: String!
  description: String
  domain: String
  steps: [TemplateStepInput!]!
  createdAt: DateTime!
}

input UpdateTemplateInput {
  id: OID!
  name: String
  description: String
  domain: String
}

input RemoveTemplateInput {
  id: OID!
}

input SetTemplateModeInput {
  mode: TemplateMode!
}

input ApplyTemplateInput {
  templateId: OID!
  timestamp: DateTime!
}

# scenario

input AddInputInput {
  id: OID!
  rawContent: String!
  source: String
  submittedBy: String
  createdAt: DateTime!
}

input UpdateInputInput {
  id: OID!
  rawContent: String
  source: String
  submittedBy: String
}

input RemoveInputInput {
  id: OID!
}

input AddStepInput {
  id: OID!
  order: Int!
  name: String!
  description: String
  templateStepId: OID
}

input UpdateStepInput {
  id: OID!
  order: Int
  name: String
  description: String
}

input RemoveStepInput {
  id: OID!
}

input AddSubstepInput {
  id: OID!
  stepId: OID!
  order: Int!
  name: String!
  description: String
  acceptanceCriteria: String
}

input UpdateSubstepInput {
  id: OID!
  stepId: OID!
  order: Int
  name: String
  description: String
  acceptanceCriteria: String
}

input RemoveSubstepInput {
  id: OID!
  stepId: OID!
}

# prerequisites

input AddPrerequisiteInput {
  id: OID!
  description: String!
  owner: String!
  scope: PrerequisiteScope!
  stepId: OID
  notes: String
  createdAt: DateTime!
}

input UpdatePrerequisiteInput {
  id: OID!
  description: String
  owner: String
  notes: String
}

input RemovePrerequisiteInput {
  id: OID!
}

input SetPrerequisiteStatusInput {
  id: OID!
  status: PrerequisiteStatus!
}

# tasks

input AddTaskInput {
  id: OID!
  name: String!
  description: String
  owner: String!
  stepId: OID!
  substepId: OID
  sequenceOrder: Int!
  source: TaskSource!
  extractionContext: String
  notes: String
  createdAt: DateTime!
}

input TaskInput {
  id: OID!
  name: String!
  description: String
  owner: String!
  stepId: OID!
  substepId: OID
  sequenceOrder: Int!
  source: TaskSource!
  extractionContext: String
  notes: String
  createdAt: DateTime!
}

input BulkAddTasksInput {
  tasks: [TaskInput!]!
}

input UpdateTaskInput {
  id: OID!
  name: String
  description: String
  owner: String
  stepId: OID
  substepId: OID
  sequenceOrder: Int
  notes: String
}

input RemoveTaskInput {
  id: OID!
}

input SetTaskStatusInput {
  id: OID!
  status: TaskStatus!
}

# dependencies

input AddDependencyInput {
  id: OID!
  sourceId: OID!
  sourceType: DependencySourceType!
  targetId: OID!
  targetType: DependencyTargetType!
  description: String
}

input UpdateDependencyInput {
  id: OID!
  description: String
}

input RemoveDependencyInput {
  id: OID!
}

# notes

input AddNoteInput {
  id: OID!
  phase: WorkBreakdownPhase!
  content: String!
  createdAt: DateTime!
}

input RemoveNoteInput {
  id: OID!
}